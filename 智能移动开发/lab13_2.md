学习教程：[使用 Room 持久保留数据](https://developer.android.google.cn/courses/pathways/android-basics-compose-unit-6-pathway-2?hl=zh-cn)

# activity4：使用 Room 持久保留数据

## 起始应用概览

![image-20240601185310273](https://s2.loli.net/2024/06/01/ZVLX2pdgaQiRqsz.png)

## 添加 Room 依赖项

![image-20240601185357696](https://s2.loli.net/2024/06/01/HXQtLJ68pbscO9U.png)

## 创建 item 实体

![image-20240601185453357](https://s2.loli.net/2024/06/01/3fxqcTvZoKHGbiL.png)

## 创建 item DAO

![image-20240601185515054](https://s2.loli.net/2024/06/01/YtPL6AwrBVnlzam.png)

## 创建 DataBase 实例

### 创建数据库

![image-20240601185552030](https://s2.loli.net/2024/06/01/N5aqXmzfjRLFKyQ.png)

## 实现存储库

![image-20240601185806734](https://s2.loli.net/2024/06/01/9oRusvaH827Nxdf.png)

![image-20240601185825947](https://s2.loli.net/2024/06/01/ArM6Q7jvLN2TRCm.png)

![image-20240601185915893](https://s2.loli.net/2024/06/01/lAHe3w7zNghUGBO.png)

## 添加保存功能

### 更新 ItemEntry ViewModel

![image-20240601190043335](https://s2.loli.net/2024/06/01/ks4KN526ZfRCozw.png)

![image-20240601190211650](https://s2.loli.net/2024/06/01/tHXjJU7L58WpDOa.png)

### 向“Save”按钮添加点击监听器

![image-20240601190600259](https://s2.loli.net/2024/06/01/rbqMY2jAH3lIWsR.png)

## 使用 Database Inspector 查看数据库内容

![image-20240601190838415](https://s2.loli.net/2024/06/01/DguhskEJzBXTAeM.png)



# activity5：使用 Room 读取和更新数据

## 更新界面状态

![image-20240601191219518](https://s2.loli.net/2024/06/01/aPKHWYX8LRFfy6I.png)

## 显示商品目录数据

![image-20240601191409751](https://s2.loli.net/2024/06/01/ZmoBqx1YLPjs4TX.png)

![image-20240601191529420](https://s2.loli.net/2024/06/01/ShmYaHcgnuLCfw2.png)

## 测试您的数据库

![image-20240601191711237](C:/Users/LX/AppData/Roaming/Typora/typora-user-images/image-20240601191711237.png)

## 显示商品详情

![image-20240601191921208](C:/Users/LX/AppData/Roaming/Typora/typora-user-images/image-20240601191921208.png)

## 实现“Item Details”界面

![image-20240601192044595](C:/Users/LX/AppData/Roaming/Typora/typora-user-images/image-20240601192044595.png)

## 实现商品销售功能

![image-20240601192751669](C:/Users/LX/AppData/Roaming/Typora/typora-user-images/image-20240601192751669.png)

![image-20240601192806857](C:/Users/LX/AppData/Roaming/Typora/typora-user-images/image-20240601192806857.png)

![image-20240601192846566](https://s2.loli.net/2024/06/01/y9AobX7WfQ4zPhL.png)

### 测试

![image-20240601193303424](https://s2.loli.net/2024/06/01/WFmy9OEigQjCLrI.png)

![image-20240601193348343](https://s2.loli.net/2024/06/01/kIm6BOdbQZsavpf.png)

![image-20240601193413518](https://s2.loli.net/2024/06/01/glbYBhCi1V3EP4F.png)
